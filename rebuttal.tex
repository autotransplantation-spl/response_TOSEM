% LaTeX rebuttal letter example. 
% 
% Copyright 2019 Friedemann Zenke, zenkelab.org
%
% Based on examples by Dirk Eddelbuettel, Fran and others from 
% https://tex.stackexchange.com/questions/2317/latex-style-or-macro-for-detailed-response-to-referee-report
% 
% Licensed under cc by-sa 3.0 with attribution required.

\documentclass[11pt]{article}
\usepackage[utf8]{inputenc}
\usepackage{lipsum} % to generate some filler text
\usepackage{fullpage}

% import Eq and Section references from the main manuscript where needed
% \usepackage{xr}
% \externaldocument{manuscript}

% package needed for optional arguments
\usepackage{xifthen}
% define counters for reviewers and their points
\newcounter{reviewer}
\setcounter{reviewer}{0}
\newcounter{point}[reviewer]
\setcounter{point}{0}

% This refines the format of how the reviewer/point reference will appear.
\renewcommand{\thepoint}{P\,\thereviewer.\arabic{point}} 

% command declarations for reviewer points and our responses
\newcommand{\reviewersection}{\stepcounter{reviewer} \bigskip \hrule
                  \section*{Reviewer \thereviewer}}

\newenvironment{point}
   {\refstepcounter{point} \bigskip \noindent {\textbf{Reviewer~Point~\thepoint} } ---\ }
   {\par }

\newcommand{\shortpoint}[1]{\refstepcounter{point}  \bigskip \noindent 
	{\textbf{Reviewer~Point~\thepoint} } ---~#1\par }

\newenvironment{reply}
   {\medskip \noindent \begin{sf}\textbf{Reply}:\  }
   {\medskip \end{sf}}

\newcommand{\shortreply}[2][]{\medskip \noindent \begin{sf}\textbf{Reply}:\  #2
	\ifthenelse{\equal{#1}{}}{}{ \hfill \footnotesize (#1)}%
	\medskip \end{sf}}

\begin{document}

\section*{Response to the reviewers, TOSEM-2023-0120}
% General intro text goes here
We thank the reviewers for their critical assessment of our work. 
In the following we address their concerns point by point. 

% Let's start point-by-point with Reviewer 1
\reviewersection

% Point one description 
\begin{point}
Figure 1 shows a sequence of transplatations, which I agree is easy to represent for such kind of succession, but is the order really important? In my opinion, probably not, except maybe when analysing the underlying dependency graph? Could it be interesting to analyse the impact of this analysis on missed artefacts when using ProdScalpel? (maybe to relate to reusability in compilation)
	\label{pt:foo}
\end{point}
\begin{reply}
	TODO
\end{reply}

\begin{point}
Section 3.2, Page 9, "To overcome these issues Foundry introduces an organ-host wrapper. This layer is responsible for providing access to the organ from the target host. It is automatically constructed on demand, according to a given implantation point in the product base."
when I saw this, I wonder whether Foundry would only produce wrappers to call new features and thus, would it be possible that the product line becomes polygot (in the sense that the wrapper may only be a call to "exec" for instance whatever the program called)? 
It is probably not as simple as that, but could it be a viable solution? What would be the impacts on the host system (in term of performance for instance)?
	\label{pt:foo}
\end{point}
\begin{reply}
	TODO
\end{reply}

\begin{point}
Section 4.1, page 12, "Figure 8 gives a example of a portion of code after prodScalpel cleaned up unused directives."
in the end, from what I can see from Figure 8, ProdScalpel is able to provide two output "partial source code", one to use when the feature is activated and the second one when it is not, when adding a new feature to the host. The choice between the two will depend on the new product to derive I assume. Is that correct?
	\label{pt:foo}
\end{point}
\begin{reply}
	TODO
\end{reply}

\begin{point}
Section 5.2, page 15, when authors use VI and VIM both as donor and product base. Did authors took two different versions of VI (and VIM)? One with the desired feature and one without it. That could make sense to the why trying to transplant a feature to the same codebase. It could also be a maner to evaluate the tool. Is it able to provide the same code in the end than the original? How does it differ? Which tests pass or fail? etc.
	\label{pt:foo}
\end{point}
\begin{reply}
	TODO
\end{reply}

\begin{point}
Section 5.3, page 16, when answering RQ2, I have the feeling that it lacks some in-depth analysis. From my understanding, I assume that some products cannot be run due to missed instructions or something else, but it is not discussed. The text only refers to documentation that is imprecise.
In addition, maybe RQ2 is expressed in a misleading way when put in light of the analysis. I was expected to get a taxonomy of different features that can or cannot be handled yet.

	\label{pt:foo}
\end{point}

\begin{reply}
	TODO
\end{reply}

\subsection*{Minor}


\shortpoint{Section 2, Page 4, line 20 "a document viewer for multiple document formats that is part of GNOME, not not an editor." -> an additional "not" maybe it was a "but" in the first place.}
\shortreply{ TODO.}

\shortpoint{Figure 3 mentions two products P and Q but no products are visible on the figure.}
\shortreply{ TODO.}

\shortpoint{I wonder whether Figures 1, 2, and 3 somehow may be redundant. Could they be merged? Is it a necessity to keep all these 3? (at least 1 and 2 separated?)}
\shortreply{ TODO.}

% Begin a new reviewer section
\reviewersection

\begin{point}

1) The general proposal is not clear. There are important mismatches in the problem definition and the example. Without a clear problem definition, the solution is difficult to evaluate. 
\end{point}
\begin{reply}
	TODO
\end{reply}

\begin{point} 
2) The solution is described in a vague way. A more theoretical or at least rigorous approach should be followed to describe the solution. The solution seems to be more like a white paper for a tool than a research paper with reproducible elements. 
\end{point}
\begin{reply}
	TODO
\end{reply}

\begin{point} 
1) In the abstract, you say that this proposal is to re-engineer existing product into a SPL. However, the motivating example and the solution does not fit well with this. In Section 2 you say that the GNOME team could be interested in offering an SPL of text editors. Then, you describe two other tools where you could take features from and "transplant"  it to a common code base generated from Gedit. This is confusing because when you are in an extractive SPL approach you have a set of products and you do not know from which one you should start building the code base for your SPL. Why Gedit and not Evince or Nedit? Are really those systems of a family of systems managed from the same organization or are they just individual products that share some common features. 
\end{point}
\begin{reply}
	TODO
\end{reply}

\begin{point} 
The example seems to be more on "copying" features from other products rather than re-engineering an existing SPL. Also, you present in Fig. 1 the donors and the  host using a feature model. Are they already SPLs according to that? Are you re-engineering an SPL from existing SPLs? All this is confusing and makes it difficult to understand the problem you want to solve. The problem has to be very well explained so that the solution can be evaluated. 
\end{point}
\begin{reply}
	TODO
\end{reply}

\begin{point} 
Also, it is confusing in the example that you talk about three editors (gedit, evince and nedit). However, in the introduction you say that for evaluating your proposal you used other text editors (kilo, vi and cflow on top of vi and vim). This is confusing and distracts the reader. 
\end{point}
\begin{reply}
	TODO
\end{reply}

\begin{point} 
2) The solution is weakly presented. The difference between "foundary" and "prodscalpel" is confusing. After some reads, one can understand that one if the conceptual and the other is the implementation. However, this should be cleared right from the beginning. Nevertheless, the main problem comes when the solution is described. Section 3 is not formally or rigorously described. There is no a single definition along the sections and only descriptive paragraphs are used. This is unusual in prestigious journals such as TOSEM. The way you describe your proposal is more for a workshop to present ideas rather to a solid result to be presented in a journal. 
\end{point}

\begin{reply}
	TODO
\end{reply}

\begin{point} 
Why in Figure 2 system 4 is selected? why P and Q are the "code base" and feature N and O are removed? P and Q are not features that are shared with other systems, are they?
\end{point}
\begin{reply}
	TODO
\end{reply}

\begin{point} 
In addition, the implementation is described as a tool paper and adds no value to rigorously and clearly present your approach/tool. 
\end{point}
\begin{reply}
	TODO
\end{reply}


== OTHER COMMENTS ==

\begin{point} 
- The title is confusing. It seems that the paper is more about "feature extraction and implantation using software transplantation" and it is not much about SPLE
\end{point}
\begin{reply}
	TODO
\end{reply}

\begin{point} 
In the abstract, the ideas are not clear. More details should be given. What is your solution about? In what is based? Only high level descriptions are given.
\end{point}
\begin{reply}
	TODO
\end{reply}

\begin{point} 
Add a reference to support the first sentence of the 2nd paragraph of Section 1
\end{point}
\begin{reply}
	TODO
\end{reply}

\begin{point} 
The first time that prodscalpel is mentioned is in line 44 (pag 3 of 32) and it is confusing that it is. 
\end{point}
\begin{reply}
	TODO
\end{reply}

\begin{point} 
Fig 1 is in page 4 but the first mention to it is in pag 5 and in another section. This is confusing. 
\end{point}
\begin{reply}
	TODO
\end{reply}

\begin{point} 
Foundary is described as "an approach" (l 29 p 4). It would be nice to more precisely describe it: process? methodology fragment? tool? what?
\end{point}
\begin{reply}
	TODO
\end{reply}

\begin{point} 
The statement that GNOME is a natural candidate for SPL is quite strong! (l 9, p5)
\end{point}

\end{document}